<!--
Author: Alex Casella

Spring 2016
-->

<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	
	<!-- Angular JS -->
	<title ng-bind="pageTitle"></title>
	<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.10/angular.min.js"></script>
	<script src="http://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.2.10/angular-ui-router.js"></script>
	<script src="angular.js"></script>

	<!-- Google Font -->
	<link
		href='http://fonts.googleapis.com/css?family=Dosis:300,400,500,600,700,800'
		rel='stylesheet' type='text/css'>
	<link href='http://fonts.googleapis.com/css?family=Montserrat:400,700'
		rel='stylesheet' type='text/css'>

	<!-- Font Awesome -->

	<link rel="stylesheet"
		href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

	<!-- Preloader -->
	<link rel="stylesheet" href="css/preloader.css" type="text/css"
		media="screen, print" />

	<!-- Icon Font-->
	<link rel="stylesheet" href="style.css">

	<!-- Animate CSS-->
	<link rel="stylesheet" href="css/animate.css">

	<!-- Bootstrap -->
	<link href="css/bootstrap.min.css" rel="stylesheet">

	<!-- Style -->
	<link href="css/style.css" rel="stylesheet">

	<!-- Responsive CSS -->
	<link href="css/responsive.css" rel="stylesheet">
	<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
	        <script src="js/lte-ie7.js"></script>
	      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
	      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
	    <![endif]-->
</head>

<body ng-app = "mbta" ng-controller = "MainCtrl">
	
	<header id="HOME" style="background-position: 50% -125px;">
		<div class="section_overlay">
			<nav class="navbar navbar-default navbar-fixed-top">
				<div class="container">
					<!-- Brand and toggle get grouped for better mobile display -->
					<div class="navbar-header">
						<button type="button" class="navbar-toggle collapsed"
							data-toggle="collapse"
							data-target="#bs-example-navbar-collapse-1">
							<span class="sr-only">Toggle navigation</span> <span
								class="icon-bar"></span> <span class="icon-bar"></span> <span
								class="icon-bar"></span>
						</button>
						<a class="navbar-brand" href="#/home"><img src="images/logo.png"
							alt=""></a>
					</div>

					<!-- Collect the nav links, forms, and other content for toggling -->
					<div class="collapse navbar-collapse"
						id="bs-example-navbar-collapse-1">
						<ul class="nav navbar-nav navbar-right">
							<li><a href="#/home">Home</a></li>
							<li><a href="#SERVICE">Services</a></li>
							<li><a href="#ABOUT">About</a></li>
							<li><a href="#CONTACT">Contact</a></li>
						</ul>
					</div>
					<!-- /.navbar-collapse -->
				</div>
				<!-- /.container -->
			</nav>

			<div class="container">
				<div class="row">
					<div class="col-md-12 text-center">
						<div class="home_text wow fadeInUp animated">
							<h2>Boston Now</h2>
							<p>Free MBTA prediction service</p>
							<p>Scroll down to see waiting time</p>
							<img src="images/shape.png" alt="">
						</div>
					</div>
				</div>
			</div>

			<div class="container">
				<div class="row">
					<div class="col-md-12 text-center">
						<div class="scroll_down">
							<a href="#SERVICE"><img src="images/scroll.png" alt=""></a>
							<h4>Scroll Down</h4>
						</div>
					</div>
				</div>
			</div>
		</div>
	</header>

	<div class="col-md-12 col-md-offset-0">
		<ui-view></ui-view>
	</div>

	<script type = "text/ng-template" id = "/home.html">

		<div class="container" id ="services">
			<div class="row" ng-controller = "serviceCtrl">
				
				<div class="col-md-6 text-center">
					<div class="single_service wow fadeInUp" data-wow-delay="0s">
						<i class="fa fa-info"></i>
						<h2 id="Service_1">
							<a ng-click="toggleMenu(1)">Go somewhere now</a>
						</h2>

						<p>Should I wait?</p>
					</div>
				</div>
				
				<!-- 
				// <div class="col-md-4 text-center">
				// 	<div class="single_service wow fadeInUp" data-wow-delay="300ms">
				// 		<i class="fa fa-hand-grab-o"></i>
				// 		<h2 id="Service_2">
				// 			<a ng-click="toggleMenu(2)">Service 2</a>
				// 		</h2>
				// 		<p>I am on a T now,</p>
				// 		<p>when will I arrive at my destination?</p>
				// 	</div>
				// </div>
				-->
				
				<div class="col-md-6 text-center">
					<div class="single_service wow fadeInUp" data-wow-delay="600ms">
						<i class="fa fa-hourglass-half"></i>
						<h2 id="Service_3">
							<a ng-click="toggleMenu(3)">Go somewhere later</a>
						</h2>

						<p>When will the T get me?</p>
					</div>
				</div>

				<!-- Menus for each service -->
				<div class = "col-md-5">
					<div class="row_menu" ng-show = "model.showmenu === 1">
						<div class="col-md-7">

							<form name = "serviceForm" ng-submit = "getResults()">


							    <label> Which color T will you ride </label>
							    <select id = "pickedColor" ng-model="$parent.pickedColor" ng-change = "$parent.setStopSelection(); validateForm()" class="form-control" 
							    	ng-options = "line as line for line in $parent.lines" required>
							    	
							    	<option value="" ng-hide = "$parent.pickedColor">Select MBTA color</option> 
							    </select>

								<br>

								<div ng-show = "$parent.pickedColor == 'Green'">
								<label> Line </label>
								<select ng-model = "$parent.pickedSubline" ng-change = "$parent.setStopSelection()" class = "form-control" 
									ng-options = "subline as subline for subline in $parent.sublines">

									<option value="">Select B, C, D, or E </option> 
								</select>

								<br>
								</div>

								<label> Direction </label>
								<select id = "pickedDirection" ng-model = "$parent.pickedDirection" ng-change = "$parent.setStopSelection(); validateForm()" class = "form-control"
									ng-options = "direction as direction for direction in $parent.directions" required>

									<option value="" ng-hide = "$parent.pickedDirection">Choose direction</option> 
								</select>

								<br>


								<label> Start stop </label>
							    <select id = "pickedStartStop" ng-model="$parent.pickedStartStop" ng-change = "validateForm()" class="form-control"
							    	ng-options = "stop.stopID as stop.stopName for stop in $parent.stopSelection" required>

							    	<option value="" ng-hide = "$parent.pickedStartStop">Choose a stop</option>
							    </select>

							    <br>


							    <label> Will you transfer lines? </label> <br>
							    <label class="radio-inline">
									<input type="radio" ng-model="$parent.switchLines" value = "yes" >Yes</input>
								</label>

								<label class="radio-inline">
									<input type= "radio" ng-model = "$parent.switchLines" value = "no" >No</input>
								</label>	

							    <br>
							   	<br>


							   	<div ng-show = "$parent.switchLines == 'yes'">
							   	<label> Which color T will you transfer to? </label>
							    <select ng-model="$parent.pickedColorSwitched" ng-change = "$parent.setStopSelectionSwitched()" class="form-control" 
							    	ng-options = "line as line for line in $parent.lines">
							    	
							    	<option value="" ng-hide = "$parent.pickedColorSwitched">Select MBTA color</option> 
							    </select>

								<br>


								<div ng-show = "$parent.pickedColorSwitched == 'Green'">
								<label> Line </label>
								<select ng-model = "$parent.pickedSublineSwitched" ng-change = "$parent.setStopSelectionSwitched()" class = "form-control" 
									ng-options = "subline as subline for subline in $parent.sublines">

									<option value="">Select B, C, D, or E </option> 
								</select>

								<br>
								</div>

								<label> Direction </label>
								<select ng-model = "$parent.pickedDirectionSwitched" ng-change = "$parent.setStopSelectionSwitched()" class = "form-control"
									ng-options = "direction as direction for direction in $parent.directions">

									<option value="" ng-hide = "$parent.pickedDirectionSwitched">Choose direction</option> 
								</select>

								<br>
								</div>


								<div ng-show = "switchLines == 'no'">
								<label> End stop </label>
							    <select ng-model="$parent.pickedEndStop" class="form-control"
							    	ng-options = "stop.stopID as stop.stopName for stop in $parent.stopSelection" >

							    	<option value="" ng-hide = "$parent.pickedEndStop">Choose a stop</option>
							    </select>
							    </div>
							    
								<div ng-show = "switchLines == 'yes'">
							    <label> End stop </label>
							     <select ng-model="$parent.pickedEndStop" class="form-control"
							    	ng-options = "stop.stopID as stop.stopName for stop in $parent.stopSelectionSwitched">

							    	<option value="" ng-hide = "$parent.pickedEndStop">Choose a stop</option>
							    </select>
							    </div>

							    <br>


								<button type = "submit" ng-click = "validateForm()" class = "btn btn-default">See Results</button> 

								<br>
								<br>
							</form>
						</div>
					</div>


					<!-- 

					// <div class="row_menu" ng-show = "model.showmenu === 2">
					// 	<div class="col-md-8">
					// 		<form name = "serviceForm" ng-submit = "getResults()">

					// 		</form>
					// 	</div>
					// </div>

					-->

					<div class="row_menu" ng-show = "model.showmenu === 3">
						<div class="col-md-7">
							<form name = "serviceForm" ng-submit = "getResults()">


								<label> Choose morning, afternoon, or evening </label>
								<select id = "pickedTimeOfDay3" ng-model = "$parent.pickedTimeOfDay" 
									class = "form-control" ng-change = "validateForm()"
							    	ng-options = "timeOfDay as timeOfDay for timeOfDay in $parent.timeOfDays" required>

							    	<option value="" ng-hide = "$parent.pickedTimeOfDay">Choose time of day</option> 
							    </select>

							    <br>


								<label ng-show = "$parent.pickedTimeOfDay"> Pick a time closest to your travel </label>
							    <select ng-model= "$parent.pickedTime" ng-show = "$parent.pickedTimeOfDay == 'Morning'"
							    	class = "form-control" 
							    	ng-options = "time.timeDigit as time.timeOption for time in $parent.timesMorning">
							    	
							    	<option value="" ng-hide = "$parent.pickedTime">Choose time</option> 
							    </select>


							    <select ng-model= "$parent.pickedTime" ng-show = "$parent.pickedTimeOfDay == 'Afternoon'"
							    	class = "form-control" 
							    	ng-options = "time.timeDigit as time.timeOption for time in $parent.timesAfternoon">
							    	
							    	<option value="" ng-hide = "$parent.pickedTime">Choose time</option> 
							    </select>

							    
							    <select ng-model= "$parent.pickedTime" ng-show = "$parent.pickedTimeOfDay == 'Evening'"
							    	class = "form-control" 
							    	ng-options = "time.timeDigit as time.timeOption for time in $parent.timesEvening">
							    	
							    	<option value="" ng-hide = "$parent.pickedTime">Choose time</option> 
							    </select>
							    
								<br ng-show = "$parent.pickedTimeOfDay">


							    <label> Which color T will you ride </label>
							    <select id = "pickedColor3" ng-model="$parent.pickedColor" 
							    	class="form-control" ng-change = "$parent.setStopSelection(); validateForm()" 
							    	ng-options = "line as line for line in $parent.lines" required>
							    	
							    	<option value="" ng-hide = "$parent.pickedColor">Select MBTA color</option> 
							    </select>

								<br>


								<div ng-show = "$parent.pickedColor == 'Green'">
								<label> Line </label>
								<select ng-model = "$parent.pickedSubline" ng-change = "$parent.setStopSelection()" class = "form-control" 
									ng-options = "subline as subline for subline in $parent.sublines">

									<option value="">Select B, C, D, or E </option> 
								</select>

								<br>
								</div>


								<label> Direction </label>
								<select id = "pickedDirection3" ng-model = "$parent.pickedDirection" ng-change = "$parent.setStopSelection(); validateForm()" class = "form-control"
									ng-options = "direction as direction for direction in $parent.directions" required>

									<option value="" ng-hide = "$parent.pickedDirection">Choose direction</option> 
								</select>

								<br>


								<label> Start stop </label>
							    <select id = "pickedStartStop3" ng-model="$parent.pickedStartStop" ng-change = "validateForm()" class="form-control"
							    	ng-options = "stop.stopID as stop.stopName for stop in $parent.stopSelection" required>

							    	<option value="" ng-hide = "$parent.pickedStartStop">Choose a stop</option>
							    </select>

							    <br>


							    <label> Will you transfer lines? </label> <br>
							    <label class="radio-inline">
									<input type="radio" ng-model="$parent.switchLines" value = "yes" >Yes</input>
								</label>

								<label class="radio-inline">
									<input type= "radio" ng-model = "$parent.switchLines" value = "no" >No</input>
								</label>	

							    <br>
							   	<br>


							   	<div ng-show = "$parent.switchLines == 'yes'">
							   	<label> Which color T will you transfer to? </label>
							    <select ng-model="$parent.pickedColorSwitched" ng-change = "$parent.setStopSelectionSwitched()" class="form-control" 
							    	ng-options = "line as line for line in $parent.lines">
							    	
							    	<option value="" ng-hide = "$parent.pickedColorSwitched">Select MBTA color</option> 
							    </select>

								<br>


								<div ng-show = "$parent.pickedColorSwitched == 'Green'">
								<label> Line </label>
								<select ng-model = "$parent.pickedSublineSwitched" ng-change = "$parent.setStopSelectionSwitched()" class = "form-control" 
									ng-options = "subline as subline for subline in $parent.sublines">

									<option value="">Select B, C, D, or E </option> 
								</select>

								<br>
								</div>

								<label> Direction </label>
								<select ng-model = "$parent.pickedDirectionSwitched" ng-change = "$parent.setStopSelectionSwitched()" class = "form-control"
									ng-options = "direction as direction for direction in $parent.directions">

									<option value="" ng-hide = "$parent.pickedDirectionSwitched">Choose direction</option> 
								</select>

								<br>
								</div>


								<div ng-show = "switchLines == 'no'">
								<label> End stop </label>
							    <select ng-model="$parent.pickedEndStop" class="form-control"
							    	ng-options = "stop.stopID as stop.stopName for stop in $parent.stopSelection" >

							    	<option value="" ng-hide = "$parent.pickedEndStop">Choose a stop</option>
							    </select>
							    </div>
							    
								<div ng-show = "switchLines == 'yes'">
							    <label> End stop </label>
							     <select ng-model="$parent.pickedEndStop" class="form-control"
							    	ng-options = "stop.stopID as stop.stopName for stop in $parent.stopSelectionSwitched">

							    	<option value="" ng-hide = "$parent.pickedEndStop">Choose a stop</option>
							    </select>
							    </div>

							    <br>


								<button type = "submit" ng-click = "validateForm()" class = "btn btn-default">See Results</button> 

								<br>
								<br>
							</form>
						</div>
					</div>
				</div>


				<div class = "col-md-7">
					
					<img class = "line_img" ng-src="{{getLineUrl($parent.pickedColor)}}">
				
					<!-- // <img class = "line_img" ng-src="{{getLineUrl($parent.pickedColorSwitched)}}"> -->
				</div>

		


				<div class = "col-md-12  container" style = "padding-top: 100px; padding-bottom: 200px; font-size: 150%">
					
					<div class="alert alert-danger">
						<strong> Alert: </strong> {{results.AlertHeader}} 
						<button ng-click = "toggleAlertDetail()" class = "btn btn-default" 
							style = "-webkit-appearance: none; outline: none; border: 0; background: transparent;"> 
							<span class = "glyphicon glyphicon-zoom-in" style = "color: maroon"></span> 
						</button>
					</div>

					<div class="alert alert-warning" ng-show = "showAlertDetail">
						<strong> More details: </strong> {{results.AlertDetail}}
					</div>


					<div class="alert alert-info">
						<strong> Transfer lines? </strong> {{results.Transfer}} 
					</div>

					<div class="alert alert-success">
						<strong> Our prediction: </strong> {{results.Prediction}} 
					</div>

				</div>

				<!-- 
				// <table>
				// <th> Your selection: </th>
				// 	<tr>
				// 		<td> You picked a time of {{results.Time}} in the {{results.TimeOfDay}}</td>
				// 	</tr>

				// 	<tr>
				// 		<td> You picked the {{results.Color}} line </td>
				// 	</tr>

				// 	<tr ng-show = "$parent.pickedColor == 'Green'"> 
				// 		<td> {{results.Line}} train </td>
				// 	</tr>	

				// 	<tr> 
				// 		<td> Going {{results.Direction}}. </td>
				// 	</tr>

				// 	<tr>
				// 		<td> Starting at stop {{results.StartStop}},  going to {{results.EndStop}} </td>
				// 	</tr> 
				// </table>

				// <th> Error: </th>
				// 	<tr>
				// 		<td> {{results.Error}} </td>
				// 	</tr>
				-->

				<br>
				<br>

				<!-- 
				// Raw response data
				// <pre >Response = {{results|json}}</pre> 
				-->
			</div>
		</div>
	</script>


	 
	<!-- // <script type = "text/ng-template" id = "/resultsPage.html">
	// 	<div class = "col-md-12" ng-controller = "backgroundImageCtrl" ng-style = "setBackground"> 
	// 	<div class = "col-md-12">
	// 		<table>

	// 			
	// 		</table>

	// 		<!-- 
	// 		// Raw response data
	// 		// <pre >Response = {{results|json}}</pre> 
			
	// 	</div>
	// </script> -->




	<script src="js/jquery.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/jquery.nicescroll.js"></script>
	<script src="js/owl.carousel.js"></script>
	<script src="js/wow.js"></script>
	<script src="js/script.js"></script>

</body>
</html>
